# Conventions to follow

Internal and external contributors are expected to follow the same standards and processes in their work. If a PR does not comply with these standards then the team reserve the right to reject the work.


### Style guide

This library uses TypeScript. Strict type annotations must be followed at all times. `any` is not permitted unless it is absolutely unavoidable. Instances of `// ts-ignore` are not permitted.

Use `.ts` in the following cases:

    - Defining a class
    - Utility or helper functions
    - Type definitions or interfaces

Use `.tsx` for code that contains JSX syntax, such as components.


### Naming conventions

Folders and files should be named after the component or feature that is being developed. Test files must include `.test` before the file extension.

File names follow pascal case eg. ComponentName. Variables should follow camel case eg. componentVariable.

For information on branch names, see guidance on [opening a PR](/opening-a-pr.mdx).


### Component structure

This library is an evolving piece of work. We have established patterns in a manner consistent enough to offer guidance on rough expectations for new work and how it should be structured, but the team does note that this may be subject to change.

Use functional components and ensure that all work is accessible and follows GDS standards.

Components follow the below structure:

```tsx
import ComponentNameProps from './ComponentNameProps.types'

const ComponentName: FC<ComponentNameProps> = (props: ComponentNameProps) => {
  const { propName1, propName2 } = props

  return (
    <ComponentNameCode />
  )
}

export default ComponentName
```

Use a `.types` file to define any interfaces related to the component. Components should be exposed via `index.ts` for end users to consume.


### Classes and methods

Use a class design pattern when writing your code. See the below skeleton for guidance.
Please provide comprehensive JSDoc comments for each module and method. Include a description, types and values for any parameters and return values.
Any new feature should be accompanied by a `README.md` file with detailed instructions for implementation.

```ts
  /**
    * This class represents a user in a system.
  */
  export default class User {

    /**
      * Create an instance of a user.
      * @param {string} userName - the name of the user
      * @param {number} userAge - the age of the user
    */
    constructor(userName: string, userAge: number) {
      this.name = name
      this.age = age
    }

    /**
      * Greet the user
      * @returns {string} - a greeting message
    */
    public greetUser(): string {
      return `Hello ${this.name}!`
    }
  }
```


### Formatting & Linting

HMRC ODX Features and Functions is following ts-standard in its linting conventions, as are set out in [GDS Way](https://gds-way.digital.cabinet-office.gov.uk/manuals/programming-languages/js.html#eslint) along with [ESLint](https://eslint.org). You can run the linter with `npm run lint` to detect any issues. Use `npm run lint:fix` to apply any automatic fixes. These checks should be carried out prior to opening a pull request.
